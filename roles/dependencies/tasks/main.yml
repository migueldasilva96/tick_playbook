- name: "##############REPOSITORY UPDATE ESSENTIALS##############"
  apt: name={{ item }}
  with_items:
    - apt-transport-https

- name: "##############ADDING DOCKER REPOSITORY KEY##############"
  apt_key:
    url: https://download.docker.com/linux/ubuntu/gpg
    state: present

- apt_repository:
   repo: deb https://download.docker.com/linux/ubuntu bionic stable
   state: present

- name: "##############UPDATING REPOSITORIES##############"
  apt:
    update_cache: yes

- name: "##############INSTALLING ESSENTIAL PACKAGES##############"
  apt: name={{ item }}
  with_items:
    - ca-certificates
    - curl
    - gnupg-agent
    - software-properties-common
    - python
    - python-setuptools
    - python-pip
    - docker-ce
    - docker-ce-cli
    - containerd.io

- pip:
    name:
      - docker 
      #- docker-py
    state: forcereinstall
